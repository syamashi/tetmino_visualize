<html><head>
    <title>Visualizer</title>
    <meta content="text/html;charset=utf-8" http-equiv="Content-Type">
    <script src="//img.atcoder.jp/public/4432a1b/js/lib/jquery-1.9.1.min.js"></script>
    <style type="text/css">
    </style>
  </head>
  
  <body>
    <span class="lang-en" style="display: none;">
      <p>
        The problem statement is <a href="https://atcoder.jp/contests/ahc030/tasks/ahc030_a">here</a>.
      </p>
      Usage
      <details open="">
        <p>
          Changing the value in the Seed field will generate the corresponding input to the Input field.<br>
          Pressing the Download button will download the inputs for seed values seed, seed+1, ..., seed+#cases-1 at
          once.<br>
        </p>
        <p>
          By running your program locally against the generated input and pasting the output of your program into the
          Output field, the visualization results will be displayed.<br>
          Pressing the ▶ button starts animation.<br>
          By pressing the Save as PNG button, you can download the visualization results.<br>
        </p>
        <p>
          You can quickly switch between multiple outputs by pressing the Select File button at the top and selecting the
          directory containing the output files.<br>
          By naming the output file 1234.txt or abcd_1234.txt, the seed number (in this case 1234) is automatically set
          when the file is selected.
        </p>
        <p>
          At each operation, the output of your program is displayed in the Query field, the response from
          the tester is displayed in the Response field, and the comment that was output at the time just before that
          output is displayed in the Comment field.<br>
          For details on how to use the comment function, please refer to the problem statement.<br>
          Hovering the mouse cursor over each square will display its coordinates in a tooltip.<br>
          Checking "Show Answer" will display the correct positions of each oil field and draw the boundary lines of each
          oil field in green.
        </p>
      </details>
    </span>
    <span class="lang-ja">
      <p>
        問題文は<a href="https://atcoder.jp/contests/ahc030/tasks/ahc030_a">こちら</a>。
      </p>
      使い方
      <details open="">
        <p>
          Seed 欄の値を変えると対応する入力が Input 欄に生成されます。<br>
          Download ボタンを押すと、シード値が seed, seed+1, ..., seed+#cases-1 に対応する入力を一括ダウンロード出来ます。<br>
        </p>
        <p>
          生成された入力に対して解答プログラムをローカル実行し、プログラムの出力を Output 欄に貼り付けると、ビジュアライズ結果が表示されます。<br>
          ▶ ボタンを押すと、アニメーションが開始します。<br>
          Save as PNG ボタンを押すと、ビジュアライズ結果のダウンロードが出来ます。<br>
        </p>
        <p>
          上部のファイルを選択ボタンを押して出力ファイルを含むディレクトリを選択することで、複数の出力を素早く切り替えることが出来るようになります。<br>
          出力ファイル名を 1234.txt もしくは abcd_1234.txt という形式にすることで、ファイルを選択時に自動的にseed番号(この場合は1234)が設定されます。
        </p>
        <p>
          各操作を行うタイミングで、解答プログラムが出力した内容がQueryに、テスターからの返答がResponseに、その出力を行う直前のタイミングで出力したコメントがComment欄に表示されます。<br>
          コメント機能の使い方の詳細については問題文を参照下さい。<br>
          各マスにマウスカーソルをあわせると、そのマスの座標がツールチップで表示されます。<br>
          「Show Answer」にチェックを入れると、正しい油田の位置が表示され、各油田の境界線が緑色で表示されます。
        </p>
      </details>
    </span>
    <hr>
    <p>
      <label>
        File:
        <select id="fileSelect" disabled=""></select>
      </label>
      <input type="file" id="dirSelect" directory="" webkitdirectory="">
    </p>
    <p>
      <label>
        Seed:
        <input type="number" id="seed" value="0" min="0" max="18446744073709551615" onchange="generate()">
      </label> 
      <input type="checkbox" id="fix_N" onchange="generate()">fix N:
      <input type="number" id="N" value="10" min="10" max="20" disabled="" onchange="generate()"> 
      <input type="checkbox" id="fix_M" onchange="generate()">fix M:
      <input type="number" id="M" value="2" min="2" max="20" disabled="" onchange="generate()"> 
      <input type="checkbox" id="fix_eps" onchange="generate()">fix eps:
      <input type="number" id="eps" value="0.01" min="0.01" max="0.20" step="0.01" disabled="" onchange="generate()"> 
      <label>
        #cases:
        <input type="number" id="cases" value="100" min="1" max="10000">
      </label>
      <input type="button" id="download" value="Download" onclick="download()">
    </p>
    <p>
      <label>
        Input:<br>
        <textarea id="input" rows="4" style="width:650px;" data-gramm_editor="false" oninput="updateOutput()"></textarea>
      </label>
    </p>
    <p>
      <label>
        Output:<br>
        <textarea id="output" rows="4" style="width:650px;" data-gramm_editor="false" oninput="updateOutput()"></textarea>
      </label>
    </p>
    <p>
    </p>
    <p>
      <input type="button" id="save_png" value="Save as PNG"> 
      <input type="button" id="save_gif" value="Save as Animation GIF"> 
      <input type="checkbox" id="show_ans" onchange="visualize()" checked="">Show Answer 
    </p>
    <p style="display:flex;">
      <input type="button" id="play" value="▶" style="width:32px;height:32px;bottom:5px;position:relative;"> 
      <label>
        slow
        <input type="range" id="speed" min="1" max="60" value="30" style="width:200px;">
        fast 
      </label>
      <label>
        turn:
        <input type="number" id="turn" value="0" min="0" max="0" style="width:70px;text-align:right;" onchange="update_t(this.value)">
      </label> 
    </p>
    <p>
      <input type="range" id="t_bar" min="0" max="0" value="0" style="width:780px;" onchange="update_t(this.value)" oninput="update_t(this.value)">
    </p>
  
    <hr>
    <p id="score">Score = 1000000000 <font color="red">(Unexpected EOF)</font></p>
    <p id="cost">Cost = </p>
    <p>
      Query:<br>
      <textarea id="query" rows="1" style="width:650px;" data-gramm_editor="false" readonly=""></textarea><br>
      Response:<br>
      <textarea id="response" rows="1" style="width:650px;" data-gramm_editor="false" readonly=""></textarea><br>
      Comment:<br>
      <textarea id="comment" rows="4" style="width:650px;" data-gramm_editor="false" readonly=""></textarea>
    </p>
    <div id="result" style="user-select:none"><svg height="610" id="vis" style="background-color:white" viewBox="-5 -5 610 610" width="610" xmlns="http://www.w3.org/2000/svg">
  <style>
  text {text-anchor: middle;dominant-baseline: central;}
  </style>
  <g>
  <title>
  (0, 0)
  </title>
  <rect fill="white" height="40" width="40" x="0" y="0"></rect>
  </g>
  <g>
  <title>
  (0, 1)
  </title>
  <rect fill="white" height="40" width="40" x="40" y="0"></rect>
  </g>
  <g>
  <title>
  (0, 2)
  </title>
  <rect fill="white" height="40" width="40" x="80" y="0"></rect>
  </g>
  <g>
  <title>
  (0, 3)
  </title>
  <rect fill="white" height="40" width="40" x="120" y="0"></rect>
  </g>
  <g>
  <title>
  (0, 4)
  </title>
  <rect fill="white" height="40" width="40" x="160" y="0"></rect>
  </g>
  <g>
  <title>
  (0, 5)
  </title>
  <rect fill="white" height="40" width="40" x="200" y="0"></rect>
  </g>
  <g>
  <title>
  (0, 6)
  </title>
  <rect fill="white" height="40" width="40" x="240" y="0"></rect>
  </g>
  <g>
  <title>
  (0, 7)
  </title>
  <rect fill="white" height="40" width="40" x="280" y="0"></rect>
  </g>
  <g>
  <title>
  (0, 8)
  </title>
  <rect fill="white" height="40" width="40" x="320" y="0"></rect>
  </g>
  <g>
  <title>
  (0, 9)
  </title>
  <rect fill="white" height="40" width="40" x="360" y="0"></rect>
  </g>
  <g>
  <title>
  (0, 10)
  </title>
  <rect fill="white" height="40" width="40" x="400" y="0"></rect>
  </g>
  <g>
  <title>
  (0, 11)
  </title>
  <rect fill="white" height="40" width="40" x="440" y="0"></rect>
  </g>
  <g>
  <title>
  (0, 12)
  </title>
  <rect fill="white" height="40" width="40" x="480" y="0"></rect>
  </g>
  <g>
  <title>
  (0, 13)
  </title>
  <rect fill="white" height="40" width="40" x="520" y="0"></rect>
  </g>
  <g>
  <title>
  (0, 14)
  </title>
  <rect fill="white" height="40" width="40" x="560" y="0"></rect>
  </g>
  <g>
  <title>
  (1, 0)
  </title>
  <rect fill="white" height="40" width="40" x="0" y="40"></rect>
  </g>
  <g>
  <title>
  (1, 1)
  </title>
  <rect fill="white" height="40" width="40" x="40" y="40"></rect>
  </g>
  <g>
  <title>
  (1, 2)
  </title>
  <rect fill="white" height="40" width="40" x="80" y="40"></rect>
  </g>
  <g>
  <title>
  (1, 3)
  </title>
  <rect fill="white" height="40" width="40" x="120" y="40"></rect>
  </g>
  <g>
  <title>
  (1, 4)
  </title>
  <rect fill="white" height="40" width="40" x="160" y="40"></rect>
  </g>
  <g>
  <title>
  (1, 5)
  </title>
  <rect fill="white" height="40" width="40" x="200" y="40"></rect>
  </g>
  <g>
  <title>
  (1, 6)
  </title>
  <rect fill="white" height="40" width="40" x="240" y="40"></rect>
  </g>
  <g>
  <title>
  (1, 7)
  </title>
  <rect fill="white" height="40" width="40" x="280" y="40"></rect>
  </g>
  <g>
  <title>
  (1, 8)
  </title>
  <rect fill="white" height="40" width="40" x="320" y="40"></rect>
  </g>
  <g>
  <title>
  (1, 9)
  </title>
  <rect fill="white" height="40" width="40" x="360" y="40"></rect>
  </g>
  <g>
  <title>
  (1, 10)
  </title>
  <rect fill="white" height="40" width="40" x="400" y="40"></rect>
  </g>
  <g>
  <title>
  (1, 11)
  </title>
  <rect fill="white" height="40" width="40" x="440" y="40"></rect>
  </g>
  <g>
  <title>
  (1, 12)
  </title>
  <rect fill="white" height="40" width="40" x="480" y="40"></rect>
  </g>
  <g>
  <title>
  (1, 13)
  </title>
  <rect fill="white" height="40" width="40" x="520" y="40"></rect>
  </g>
  <g>
  <title>
  (1, 14)
  </title>
  <rect fill="white" height="40" width="40" x="560" y="40"></rect>
  </g>
  <g>
  <title>
  (2, 0)
  </title>
  <rect fill="white" height="40" width="40" x="0" y="80"></rect>
  </g>
  <g>
  <title>
  (2, 1)
  </title>
  <rect fill="white" height="40" width="40" x="40" y="80"></rect>
  </g>
  <g>
  <title>
  (2, 2)
  </title>
  <rect fill="white" height="40" width="40" x="80" y="80"></rect>
  </g>
  <g>
  <title>
  (2, 3)
  </title>
  <rect fill="white" height="40" width="40" x="120" y="80"></rect>
  <text fill="darkgray" font-size="13" x="140" y="100">
  1
  </text>
  </g>
  <g>
  <title>
  (2, 4)
  </title>
  <rect fill="white" height="40" width="40" x="160" y="80"></rect>
  </g>
  <g>
  <title>
  (2, 5)
  </title>
  <rect fill="white" height="40" width="40" x="200" y="80"></rect>
  </g>
  <g>
  <title>
  (2, 6)
  </title>
  <rect fill="white" height="40" width="40" x="240" y="80"></rect>
  </g>
  <g>
  <title>
  (2, 7)
  </title>
  <rect fill="white" height="40" width="40" x="280" y="80"></rect>
  </g>
  <g>
  <title>
  (2, 8)
  </title>
  <rect fill="white" height="40" width="40" x="320" y="80"></rect>
  </g>
  <g>
  <title>
  (2, 9)
  </title>
  <rect fill="white" height="40" width="40" x="360" y="80"></rect>
  </g>
  <g>
  <title>
  (2, 10)
  </title>
  <rect fill="white" height="40" width="40" x="400" y="80"></rect>
  <text fill="darkgray" font-size="13" x="420" y="100">
  1
  </text>
  </g>
  <g>
  <title>
  (2, 11)
  </title>
  <rect fill="white" height="40" width="40" x="440" y="80"></rect>
  </g>
  <g>
  <title>
  (2, 12)
  </title>
  <rect fill="white" height="40" width="40" x="480" y="80"></rect>
  </g>
  <g>
  <title>
  (2, 13)
  </title>
  <rect fill="white" height="40" width="40" x="520" y="80"></rect>
  </g>
  <g>
  <title>
  (2, 14)
  </title>
  <rect fill="white" height="40" width="40" x="560" y="80"></rect>
  </g>
  <g>
  <title>
  (3, 0)
  </title>
  <rect fill="white" height="40" width="40" x="0" y="120"></rect>
  </g>
  <g>
  <title>
  (3, 1)
  </title>
  <rect fill="white" height="40" width="40" x="40" y="120"></rect>
  <text fill="darkgray" font-size="13" x="60" y="140">
  1
  </text>
  </g>
  <g>
  <title>
  (3, 2)
  </title>
  <rect fill="white" height="40" width="40" x="80" y="120"></rect>
  </g>
  <g>
  <title>
  (3, 3)
  </title>
  <rect fill="white" height="40" width="40" x="120" y="120"></rect>
  <text fill="darkgray" font-size="13" x="140" y="140">
  1
  </text>
  </g>
  <g>
  <title>
  (3, 4)
  </title>
  <rect fill="white" height="40" width="40" x="160" y="120"></rect>
  </g>
  <g>
  <title>
  (3, 5)
  </title>
  <rect fill="white" height="40" width="40" x="200" y="120"></rect>
  </g>
  <g>
  <title>
  (3, 6)
  </title>
  <rect fill="white" height="40" width="40" x="240" y="120"></rect>
  <text fill="darkgray" font-size="13" x="260" y="140">
  1
  </text>
  </g>
  <g>
  <title>
  (3, 7)
  </title>
  <rect fill="white" height="40" width="40" x="280" y="120"></rect>
  </g>
  <g>
  <title>
  (3, 8)
  </title>
  <rect fill="white" height="40" width="40" x="320" y="120"></rect>
  </g>
  <g>
  <title>
  (3, 9)
  </title>
  <rect fill="white" height="40" width="40" x="360" y="120"></rect>
  </g>
  <g>
  <title>
  (3, 10)
  </title>
  <rect fill="white" height="40" width="40" x="400" y="120"></rect>
  <text fill="darkgray" font-size="13" x="420" y="140">
  1
  </text>
  </g>
  <g>
  <title>
  (3, 11)
  </title>
  <rect fill="white" height="40" width="40" x="440" y="120"></rect>
  </g>
  <g>
  <title>
  (3, 12)
  </title>
  <rect fill="white" height="40" width="40" x="480" y="120"></rect>
  </g>
  <g>
  <title>
  (3, 13)
  </title>
  <rect fill="white" height="40" width="40" x="520" y="120"></rect>
  </g>
  <g>
  <title>
  (3, 14)
  </title>
  <rect fill="white" height="40" width="40" x="560" y="120"></rect>
  </g>
  <g>
  <title>
  (4, 0)
  </title>
  <rect fill="white" height="40" width="40" x="0" y="160"></rect>
  <text fill="darkgray" font-size="13" x="20" y="180">
  1
  </text>
  </g>
  <g>
  <title>
  (4, 1)
  </title>
  <rect fill="white" height="40" width="40" x="40" y="160"></rect>
  <text fill="darkgray" font-size="13" x="60" y="180">
  1
  </text>
  </g>
  <g>
  <title>
  (4, 2)
  </title>
  <rect fill="white" height="40" width="40" x="80" y="160"></rect>
  <text fill="darkgray" font-size="13" x="100" y="180">
  1
  </text>
  </g>
  <g>
  <title>
  (4, 3)
  </title>
  <rect fill="white" height="40" width="40" x="120" y="160"></rect>
  <text fill="darkgray" font-size="13" x="140" y="180">
  1
  </text>
  </g>
  <g>
  <title>
  (4, 4)
  </title>
  <rect fill="white" height="40" width="40" x="160" y="160"></rect>
  <text fill="darkgray" font-size="13" x="180" y="180">
  1
  </text>
  </g>
  <g>
  <title>
  (4, 5)
  </title>
  <rect fill="white" height="40" width="40" x="200" y="160"></rect>
  <text fill="darkgray" font-size="13" x="220" y="180">
  1
  </text>
  </g>
  <g>
  <title>
  (4, 6)
  </title>
  <rect fill="white" height="40" width="40" x="240" y="160"></rect>
  <text fill="darkgray" font-size="13" x="260" y="180">
  1
  </text>
  </g>
  <g>
  <title>
  (4, 7)
  </title>
  <rect fill="white" height="40" width="40" x="280" y="160"></rect>
  </g>
  <g>
  <title>
  (4, 8)
  </title>
  <rect fill="white" height="40" width="40" x="320" y="160"></rect>
  </g>
  <g>
  <title>
  (4, 9)
  </title>
  <rect fill="white" height="40" width="40" x="360" y="160"></rect>
  </g>
  <g>
  <title>
  (4, 10)
  </title>
  <rect fill="white" height="40" width="40" x="400" y="160"></rect>
  <text fill="darkgray" font-size="13" x="420" y="180">
  1
  </text>
  </g>
  <g>
  <title>
  (4, 11)
  </title>
  <rect fill="white" height="40" width="40" x="440" y="160"></rect>
  </g>
  <g>
  <title>
  (4, 12)
  </title>
  <rect fill="white" height="40" width="40" x="480" y="160"></rect>
  </g>
  <g>
  <title>
  (4, 13)
  </title>
  <rect fill="white" height="40" width="40" x="520" y="160"></rect>
  </g>
  <g>
  <title>
  (4, 14)
  </title>
  <rect fill="white" height="40" width="40" x="560" y="160"></rect>
  </g>
  <g>
  <title>
  (5, 0)
  </title>
  <rect fill="white" height="40" width="40" x="0" y="200"></rect>
  </g>
  <g>
  <title>
  (5, 1)
  </title>
  <rect fill="white" height="40" width="40" x="40" y="200"></rect>
  <text fill="darkgray" font-size="13" x="60" y="220">
  1
  </text>
  </g>
  <g>
  <title>
  (5, 2)
  </title>
  <rect fill="white" height="40" width="40" x="80" y="200"></rect>
  <text fill="darkgray" font-size="13" x="100" y="220">
  1
  </text>
  </g>
  <g>
  <title>
  (5, 3)
  </title>
  <rect fill="white" height="40" width="40" x="120" y="200"></rect>
  <text fill="darkgray" font-size="13" x="140" y="220">
  1
  </text>
  </g>
  <g>
  <title>
  (5, 4)
  </title>
  <rect fill="white" height="40" width="40" x="160" y="200"></rect>
  <text fill="darkgray" font-size="13" x="180" y="220">
  1
  </text>
  </g>
  <g>
  <title>
  (5, 5)
  </title>
  <rect fill="white" height="40" width="40" x="200" y="200"></rect>
  <text fill="darkgray" font-size="13" x="220" y="220">
  1
  </text>
  </g>
  <g>
  <title>
  (5, 6)
  </title>
  <rect fill="white" height="40" width="40" x="240" y="200"></rect>
  </g>
  <g>
  <title>
  (5, 7)
  </title>
  <rect fill="white" height="40" width="40" x="280" y="200"></rect>
  </g>
  <g>
  <title>
  (5, 8)
  </title>
  <rect fill="white" height="40" width="40" x="320" y="200"></rect>
  </g>
  <g>
  <title>
  (5, 9)
  </title>
  <rect fill="white" height="40" width="40" x="360" y="200"></rect>
  </g>
  <g>
  <title>
  (5, 10)
  </title>
  <rect fill="white" height="40" width="40" x="400" y="200"></rect>
  <text fill="darkgray" font-size="13" x="420" y="220">
  1
  </text>
  </g>
  <g>
  <title>
  (5, 11)
  </title>
  <rect fill="white" height="40" width="40" x="440" y="200"></rect>
  <text fill="darkgray" font-size="13" x="460" y="220">
  1
  </text>
  </g>
  <g>
  <title>
  (5, 12)
  </title>
  <rect fill="white" height="40" width="40" x="480" y="200"></rect>
  <text fill="darkgray" font-size="13" x="500" y="220">
  1
  </text>
  </g>
  <g>
  <title>
  (5, 13)
  </title>
  <rect fill="white" height="40" width="40" x="520" y="200"></rect>
  <text fill="darkgray" font-size="13" x="540" y="220">
  1
  </text>
  </g>
  <g>
  <title>
  (5, 14)
  </title>
  <rect fill="white" height="40" width="40" x="560" y="200"></rect>
  </g>
  <g>
  <title>
  (6, 0)
  </title>
  <rect fill="white" height="40" width="40" x="0" y="240"></rect>
  </g>
  <g>
  <title>
  (6, 1)
  </title>
  <rect fill="white" height="40" width="40" x="40" y="240"></rect>
  <text fill="darkgray" font-size="13" x="60" y="260">
  1
  </text>
  </g>
  <g>
  <title>
  (6, 2)
  </title>
  <rect fill="white" height="40" width="40" x="80" y="240"></rect>
  <text fill="darkgray" font-size="13" x="100" y="260">
  1
  </text>
  </g>
  <g>
  <title>
  (6, 3)
  </title>
  <rect fill="white" height="40" width="40" x="120" y="240"></rect>
  </g>
  <g>
  <title>
  (6, 4)
  </title>
  <rect fill="white" height="40" width="40" x="160" y="240"></rect>
  <text fill="darkgray" font-size="13" x="180" y="260">
  1
  </text>
  </g>
  <g>
  <title>
  (6, 5)
  </title>
  <rect fill="white" height="40" width="40" x="200" y="240"></rect>
  </g>
  <g>
  <title>
  (6, 6)
  </title>
  <rect fill="white" height="40" width="40" x="240" y="240"></rect>
  </g>
  <g>
  <title>
  (6, 7)
  </title>
  <rect fill="white" height="40" width="40" x="280" y="240"></rect>
  </g>
  <g>
  <title>
  (6, 8)
  </title>
  <rect fill="white" height="40" width="40" x="320" y="240"></rect>
  </g>
  <g>
  <title>
  (6, 9)
  </title>
  <rect fill="white" height="40" width="40" x="360" y="240"></rect>
  </g>
  <g>
  <title>
  (6, 10)
  </title>
  <rect fill="white" height="40" width="40" x="400" y="240"></rect>
  <text fill="darkgray" font-size="13" x="420" y="260">
  1
  </text>
  </g>
  <g>
  <title>
  (6, 11)
  </title>
  <rect fill="white" height="40" width="40" x="440" y="240"></rect>
  <text fill="darkgray" font-size="13" x="460" y="260">
  1
  </text>
  </g>
  <g>
  <title>
  (6, 12)
  </title>
  <rect fill="white" height="40" width="40" x="480" y="240"></rect>
  </g>
  <g>
  <title>
  (6, 13)
  </title>
  <rect fill="white" height="40" width="40" x="520" y="240"></rect>
  </g>
  <g>
  <title>
  (6, 14)
  </title>
  <rect fill="white" height="40" width="40" x="560" y="240"></rect>
  </g>
  <g>
  <title>
  (7, 0)
  </title>
  <rect fill="white" height="40" width="40" x="0" y="280"></rect>
  </g>
  <g>
  <title>
  (7, 1)
  </title>
  <rect fill="white" height="40" width="40" x="40" y="280"></rect>
  </g>
  <g>
  <title>
  (7, 2)
  </title>
  <rect fill="white" height="40" width="40" x="80" y="280"></rect>
  </g>
  <g>
  <title>
  (7, 3)
  </title>
  <rect fill="white" height="40" width="40" x="120" y="280"></rect>
  </g>
  <g>
  <title>
  (7, 4)
  </title>
  <rect fill="white" height="40" width="40" x="160" y="280"></rect>
  </g>
  <g>
  <title>
  (7, 5)
  </title>
  <rect fill="white" height="40" width="40" x="200" y="280"></rect>
  </g>
  <g>
  <title>
  (7, 6)
  </title>
  <rect fill="white" height="40" width="40" x="240" y="280"></rect>
  </g>
  <g>
  <title>
  (7, 7)
  </title>
  <rect fill="white" height="40" width="40" x="280" y="280"></rect>
  </g>
  <g>
  <title>
  (7, 8)
  </title>
  <rect fill="white" height="40" width="40" x="320" y="280"></rect>
  </g>
  <g>
  <title>
  (7, 9)
  </title>
  <rect fill="white" height="40" width="40" x="360" y="280"></rect>
  <text fill="darkgray" font-size="13" x="380" y="300">
  1
  </text>
  </g>
  <g>
  <title>
  (7, 10)
  </title>
  <rect fill="white" height="40" width="40" x="400" y="280"></rect>
  <text fill="darkgray" font-size="13" x="420" y="300">
  1
  </text>
  </g>
  <g>
  <title>
  (7, 11)
  </title>
  <rect fill="white" height="40" width="40" x="440" y="280"></rect>
  <text fill="darkgray" font-size="13" x="460" y="300">
  1
  </text>
  </g>
  <g>
  <title>
  (7, 12)
  </title>
  <rect fill="white" height="40" width="40" x="480" y="280"></rect>
  <text fill="darkgray" font-size="13" x="500" y="300">
  1
  </text>
  </g>
  <g>
  <title>
  (7, 13)
  </title>
  <rect fill="white" height="40" width="40" x="520" y="280"></rect>
  </g>
  <g>
  <title>
  (7, 14)
  </title>
  <rect fill="white" height="40" width="40" x="560" y="280"></rect>
  </g>
  <g>
  <title>
  (8, 0)
  </title>
  <rect fill="white" height="40" width="40" x="0" y="320"></rect>
  </g>
  <g>
  <title>
  (8, 1)
  </title>
  <rect fill="white" height="40" width="40" x="40" y="320"></rect>
  </g>
  <g>
  <title>
  (8, 2)
  </title>
  <rect fill="white" height="40" width="40" x="80" y="320"></rect>
  </g>
  <g>
  <title>
  (8, 3)
  </title>
  <rect fill="white" height="40" width="40" x="120" y="320"></rect>
  </g>
  <g>
  <title>
  (8, 4)
  </title>
  <rect fill="white" height="40" width="40" x="160" y="320"></rect>
  </g>
  <g>
  <title>
  (8, 5)
  </title>
  <rect fill="white" height="40" width="40" x="200" y="320"></rect>
  </g>
  <g>
  <title>
  (8, 6)
  </title>
  <rect fill="white" height="40" width="40" x="240" y="320"></rect>
  </g>
  <g>
  <title>
  (8, 7)
  </title>
  <rect fill="white" height="40" width="40" x="280" y="320"></rect>
  </g>
  <g>
  <title>
  (8, 8)
  </title>
  <rect fill="white" height="40" width="40" x="320" y="320"></rect>
  </g>
  <g>
  <title>
  (8, 9)
  </title>
  <rect fill="white" height="40" width="40" x="360" y="320"></rect>
  </g>
  <g>
  <title>
  (8, 10)
  </title>
  <rect fill="white" height="40" width="40" x="400" y="320"></rect>
  <text fill="darkgray" font-size="13" x="420" y="340">
  1
  </text>
  </g>
  <g>
  <title>
  (8, 11)
  </title>
  <rect fill="white" height="40" width="40" x="440" y="320"></rect>
  <text fill="darkgray" font-size="13" x="460" y="340">
  1
  </text>
  </g>
  <g>
  <title>
  (8, 12)
  </title>
  <rect fill="white" height="40" width="40" x="480" y="320"></rect>
  <text fill="darkgray" font-size="13" x="500" y="340">
  1
  </text>
  </g>
  <g>
  <title>
  (8, 13)
  </title>
  <rect fill="white" height="40" width="40" x="520" y="320"></rect>
  </g>
  <g>
  <title>
  (8, 14)
  </title>
  <rect fill="white" height="40" width="40" x="560" y="320"></rect>
  </g>
  <g>
  <title>
  (9, 0)
  </title>
  <rect fill="white" height="40" width="40" x="0" y="360"></rect>
  </g>
  <g>
  <title>
  (9, 1)
  </title>
  <rect fill="white" height="40" width="40" x="40" y="360"></rect>
  </g>
  <g>
  <title>
  (9, 2)
  </title>
  <rect fill="white" height="40" width="40" x="80" y="360"></rect>
  </g>
  <g>
  <title>
  (9, 3)
  </title>
  <rect fill="white" height="40" width="40" x="120" y="360"></rect>
  </g>
  <g>
  <title>
  (9, 4)
  </title>
  <rect fill="white" height="40" width="40" x="160" y="360"></rect>
  </g>
  <g>
  <title>
  (9, 5)
  </title>
  <rect fill="white" height="40" width="40" x="200" y="360"></rect>
  </g>
  <g>
  <title>
  (9, 6)
  </title>
  <rect fill="white" height="40" width="40" x="240" y="360"></rect>
  </g>
  <g>
  <title>
  (9, 7)
  </title>
  <rect fill="white" height="40" width="40" x="280" y="360"></rect>
  </g>
  <g>
  <title>
  (9, 8)
  </title>
  <rect fill="white" height="40" width="40" x="320" y="360"></rect>
  </g>
  <g>
  <title>
  (9, 9)
  </title>
  <rect fill="white" height="40" width="40" x="360" y="360"></rect>
  </g>
  <g>
  <title>
  (9, 10)
  </title>
  <rect fill="white" height="40" width="40" x="400" y="360"></rect>
  <text fill="darkgray" font-size="13" x="420" y="380">
  1
  </text>
  </g>
  <g>
  <title>
  (9, 11)
  </title>
  <rect fill="white" height="40" width="40" x="440" y="360"></rect>
  </g>
  <g>
  <title>
  (9, 12)
  </title>
  <rect fill="white" height="40" width="40" x="480" y="360"></rect>
  <text fill="darkgray" font-size="13" x="500" y="380">
  1
  </text>
  </g>
  <g>
  <title>
  (9, 13)
  </title>
  <rect fill="white" height="40" width="40" x="520" y="360"></rect>
  </g>
  <g>
  <title>
  (9, 14)
  </title>
  <rect fill="white" height="40" width="40" x="560" y="360"></rect>
  </g>
  <g>
  <title>
  (10, 0)
  </title>
  <rect fill="white" height="40" width="40" x="0" y="400"></rect>
  </g>
  <g>
  <title>
  (10, 1)
  </title>
  <rect fill="white" height="40" width="40" x="40" y="400"></rect>
  </g>
  <g>
  <title>
  (10, 2)
  </title>
  <rect fill="white" height="40" width="40" x="80" y="400"></rect>
  </g>
  <g>
  <title>
  (10, 3)
  </title>
  <rect fill="white" height="40" width="40" x="120" y="400"></rect>
  </g>
  <g>
  <title>
  (10, 4)
  </title>
  <rect fill="white" height="40" width="40" x="160" y="400"></rect>
  </g>
  <g>
  <title>
  (10, 5)
  </title>
  <rect fill="white" height="40" width="40" x="200" y="400"></rect>
  </g>
  <g>
  <title>
  (10, 6)
  </title>
  <rect fill="white" height="40" width="40" x="240" y="400"></rect>
  </g>
  <g>
  <title>
  (10, 7)
  </title>
  <rect fill="white" height="40" width="40" x="280" y="400"></rect>
  </g>
  <g>
  <title>
  (10, 8)
  </title>
  <rect fill="white" height="40" width="40" x="320" y="400"></rect>
  </g>
  <g>
  <title>
  (10, 9)
  </title>
  <rect fill="white" height="40" width="40" x="360" y="400"></rect>
  </g>
  <g>
  <title>
  (10, 10)
  </title>
  <rect fill="white" height="40" width="40" x="400" y="400"></rect>
  </g>
  <g>
  <title>
  (10, 11)
  </title>
  <rect fill="white" height="40" width="40" x="440" y="400"></rect>
  </g>
  <g>
  <title>
  (10, 12)
  </title>
  <rect fill="white" height="40" width="40" x="480" y="400"></rect>
  <text fill="darkgray" font-size="13" x="500" y="420">
  1
  </text>
  </g>
  <g>
  <title>
  (10, 13)
  </title>
  <rect fill="white" height="40" width="40" x="520" y="400"></rect>
  </g>
  <g>
  <title>
  (10, 14)
  </title>
  <rect fill="white" height="40" width="40" x="560" y="400"></rect>
  </g>
  <g>
  <title>
  (11, 0)
  </title>
  <rect fill="white" height="40" width="40" x="0" y="440"></rect>
  </g>
  <g>
  <title>
  (11, 1)
  </title>
  <rect fill="white" height="40" width="40" x="40" y="440"></rect>
  </g>
  <g>
  <title>
  (11, 2)
  </title>
  <rect fill="white" height="40" width="40" x="80" y="440"></rect>
  </g>
  <g>
  <title>
  (11, 3)
  </title>
  <rect fill="white" height="40" width="40" x="120" y="440"></rect>
  </g>
  <g>
  <title>
  (11, 4)
  </title>
  <rect fill="white" height="40" width="40" x="160" y="440"></rect>
  </g>
  <g>
  <title>
  (11, 5)
  </title>
  <rect fill="white" height="40" width="40" x="200" y="440"></rect>
  </g>
  <g>
  <title>
  (11, 6)
  </title>
  <rect fill="white" height="40" width="40" x="240" y="440"></rect>
  </g>
  <g>
  <title>
  (11, 7)
  </title>
  <rect fill="white" height="40" width="40" x="280" y="440"></rect>
  </g>
  <g>
  <title>
  (11, 8)
  </title>
  <rect fill="white" height="40" width="40" x="320" y="440"></rect>
  </g>
  <g>
  <title>
  (11, 9)
  </title>
  <rect fill="white" height="40" width="40" x="360" y="440"></rect>
  </g>
  <g>
  <title>
  (11, 10)
  </title>
  <rect fill="white" height="40" width="40" x="400" y="440"></rect>
  </g>
  <g>
  <title>
  (11, 11)
  </title>
  <rect fill="white" height="40" width="40" x="440" y="440"></rect>
  </g>
  <g>
  <title>
  (11, 12)
  </title>
  <rect fill="white" height="40" width="40" x="480" y="440"></rect>
  </g>
  <g>
  <title>
  (11, 13)
  </title>
  <rect fill="white" height="40" width="40" x="520" y="440"></rect>
  </g>
  <g>
  <title>
  (11, 14)
  </title>
  <rect fill="white" height="40" width="40" x="560" y="440"></rect>
  </g>
  <g>
  <title>
  (12, 0)
  </title>
  <rect fill="white" height="40" width="40" x="0" y="480"></rect>
  </g>
  <g>
  <title>
  (12, 1)
  </title>
  <rect fill="white" height="40" width="40" x="40" y="480"></rect>
  </g>
  <g>
  <title>
  (12, 2)
  </title>
  <rect fill="white" height="40" width="40" x="80" y="480"></rect>
  </g>
  <g>
  <title>
  (12, 3)
  </title>
  <rect fill="white" height="40" width="40" x="120" y="480"></rect>
  </g>
  <g>
  <title>
  (12, 4)
  </title>
  <rect fill="white" height="40" width="40" x="160" y="480"></rect>
  </g>
  <g>
  <title>
  (12, 5)
  </title>
  <rect fill="white" height="40" width="40" x="200" y="480"></rect>
  </g>
  <g>
  <title>
  (12, 6)
  </title>
  <rect fill="white" height="40" width="40" x="240" y="480"></rect>
  </g>
  <g>
  <title>
  (12, 7)
  </title>
  <rect fill="white" height="40" width="40" x="280" y="480"></rect>
  </g>
  <g>
  <title>
  (12, 8)
  </title>
  <rect fill="white" height="40" width="40" x="320" y="480"></rect>
  </g>
  <g>
  <title>
  (12, 9)
  </title>
  <rect fill="white" height="40" width="40" x="360" y="480"></rect>
  </g>
  <g>
  <title>
  (12, 10)
  </title>
  <rect fill="white" height="40" width="40" x="400" y="480"></rect>
  </g>
  <g>
  <title>
  (12, 11)
  </title>
  <rect fill="white" height="40" width="40" x="440" y="480"></rect>
  </g>
  <g>
  <title>
  (12, 12)
  </title>
  <rect fill="white" height="40" width="40" x="480" y="480"></rect>
  </g>
  <g>
  <title>
  (12, 13)
  </title>
  <rect fill="white" height="40" width="40" x="520" y="480"></rect>
  </g>
  <g>
  <title>
  (12, 14)
  </title>
  <rect fill="white" height="40" width="40" x="560" y="480"></rect>
  </g>
  <g>
  <title>
  (13, 0)
  </title>
  <rect fill="white" height="40" width="40" x="0" y="520"></rect>
  </g>
  <g>
  <title>
  (13, 1)
  </title>
  <rect fill="white" height="40" width="40" x="40" y="520"></rect>
  </g>
  <g>
  <title>
  (13, 2)
  </title>
  <rect fill="white" height="40" width="40" x="80" y="520"></rect>
  </g>
  <g>
  <title>
  (13, 3)
  </title>
  <rect fill="white" height="40" width="40" x="120" y="520"></rect>
  </g>
  <g>
  <title>
  (13, 4)
  </title>
  <rect fill="white" height="40" width="40" x="160" y="520"></rect>
  </g>
  <g>
  <title>
  (13, 5)
  </title>
  <rect fill="white" height="40" width="40" x="200" y="520"></rect>
  </g>
  <g>
  <title>
  (13, 6)
  </title>
  <rect fill="white" height="40" width="40" x="240" y="520"></rect>
  </g>
  <g>
  <title>
  (13, 7)
  </title>
  <rect fill="white" height="40" width="40" x="280" y="520"></rect>
  </g>
  <g>
  <title>
  (13, 8)
  </title>
  <rect fill="white" height="40" width="40" x="320" y="520"></rect>
  </g>
  <g>
  <title>
  (13, 9)
  </title>
  <rect fill="white" height="40" width="40" x="360" y="520"></rect>
  </g>
  <g>
  <title>
  (13, 10)
  </title>
  <rect fill="white" height="40" width="40" x="400" y="520"></rect>
  </g>
  <g>
  <title>
  (13, 11)
  </title>
  <rect fill="white" height="40" width="40" x="440" y="520"></rect>
  </g>
  <g>
  <title>
  (13, 12)
  </title>
  <rect fill="white" height="40" width="40" x="480" y="520"></rect>
  </g>
  <g>
  <title>
  (13, 13)
  </title>
  <rect fill="white" height="40" width="40" x="520" y="520"></rect>
  </g>
  <g>
  <title>
  (13, 14)
  </title>
  <rect fill="white" height="40" width="40" x="560" y="520"></rect>
  </g>
  <g>
  <title>
  (14, 0)
  </title>
  <rect fill="white" height="40" width="40" x="0" y="560"></rect>
  </g>
  <g>
  <title>
  (14, 1)
  </title>
  <rect fill="white" height="40" width="40" x="40" y="560"></rect>
  </g>
  <g>
  <title>
  (14, 2)
  </title>
  <rect fill="white" height="40" width="40" x="80" y="560"></rect>
  </g>
  <g>
  <title>
  (14, 3)
  </title>
  <rect fill="white" height="40" width="40" x="120" y="560"></rect>
  </g>
  <g>
  <title>
  (14, 4)
  </title>
  <rect fill="white" height="40" width="40" x="160" y="560"></rect>
  </g>
  <g>
  <title>
  (14, 5)
  </title>
  <rect fill="white" height="40" width="40" x="200" y="560"></rect>
  </g>
  <g>
  <title>
  (14, 6)
  </title>
  <rect fill="white" height="40" width="40" x="240" y="560"></rect>
  </g>
  <g>
  <title>
  (14, 7)
  </title>
  <rect fill="white" height="40" width="40" x="280" y="560"></rect>
  </g>
  <g>
  <title>
  (14, 8)
  </title>
  <rect fill="white" height="40" width="40" x="320" y="560"></rect>
  </g>
  <g>
  <title>
  (14, 9)
  </title>
  <rect fill="white" height="40" width="40" x="360" y="560"></rect>
  </g>
  <g>
  <title>
  (14, 10)
  </title>
  <rect fill="white" height="40" width="40" x="400" y="560"></rect>
  </g>
  <g>
  <title>
  (14, 11)
  </title>
  <rect fill="white" height="40" width="40" x="440" y="560"></rect>
  </g>
  <g>
  <title>
  (14, 12)
  </title>
  <rect fill="white" height="40" width="40" x="480" y="560"></rect>
  </g>
  <g>
  <title>
  (14, 13)
  </title>
  <rect fill="white" height="40" width="40" x="520" y="560"></rect>
  </g>
  <g>
  <title>
  (14, 14)
  </title>
  <rect fill="white" height="40" width="40" x="560" y="560"></rect>
  </g>
  <line stroke="green" stroke-width="2" x1="157" x2="157" y1="117" y2="83"></line>
  <line stroke="green" stroke-width="2" x1="123" x2="123" y1="83" y2="117"></line>
  <line stroke="green" stroke-width="2" x1="157" x2="123" y1="83" y2="83"></line>
  <line stroke="green" stroke-width="2" x1="77" x2="77" y1="157" y2="123"></line>
  <line stroke="green" stroke-width="2" x1="43" x2="43" y1="123" y2="157"></line>
  <line stroke="green" stroke-width="2" x1="77" x2="43" y1="123" y2="123"></line>
  <line stroke="green" stroke-width="2" x1="157" x2="157" y1="157" y2="123"></line>
  <line stroke="green" stroke-width="2" x1="123" x2="123" y1="123" y2="157"></line>
  <line stroke="green" stroke-width="2" x1="277" x2="277" y1="157" y2="123"></line>
  <line stroke="green" stroke-width="2" x1="243" x2="243" y1="123" y2="157"></line>
  <line stroke="green" stroke-width="2" x1="277" x2="243" y1="123" y2="123"></line>
  <line stroke="green" stroke-width="2" x1="3" x2="37" y1="197" y2="197"></line>
  <line stroke="green" stroke-width="2" x1="3" x2="3" y1="163" y2="197"></line>
  <line stroke="green" stroke-width="2" x1="37" x2="3" y1="163" y2="163"></line>
  <line stroke="green" stroke-width="2" x1="117" x2="83" y1="163" y2="163"></line>
  <line stroke="green" stroke-width="2" x1="197" x2="163" y1="163" y2="163"></line>
  <line stroke="green" stroke-width="2" x1="237" x2="203" y1="163" y2="163"></line>
  <line stroke="green" stroke-width="2" x1="277" x2="277" y1="197" y2="163"></line>
  <line stroke="green" stroke-width="2" x1="243" x2="277" y1="197" y2="197"></line>
  <line stroke="green" stroke-width="2" x1="43" x2="43" y1="203" y2="237"></line>
  <line stroke="green" stroke-width="2" x1="123" x2="157" y1="237" y2="237"></line>
  <line stroke="green" stroke-width="2" x1="237" x2="237" y1="237" y2="203"></line>
  <line stroke="green" stroke-width="2" x1="203" x2="237" y1="237" y2="237"></line>
  <line stroke="green" stroke-width="2" x1="43" x2="77" y1="277" y2="277"></line>
  <line stroke="green" stroke-width="2" x1="43" x2="43" y1="243" y2="277"></line>
  <line stroke="green" stroke-width="2" x1="117" x2="117" y1="277" y2="243"></line>
  <line stroke="green" stroke-width="2" x1="83" x2="117" y1="277" y2="277"></line>
  <line stroke="green" stroke-width="2" x1="197" x2="197" y1="277" y2="243"></line>
  <line stroke="green" stroke-width="2" x1="163" x2="197" y1="277" y2="277"></line>
  <line stroke="green" stroke-width="2" x1="163" x2="163" y1="243" y2="277"></line>
  <line stroke="green" stroke-width="2" x1="437" x2="437" y1="117" y2="83"></line>
  <line stroke="green" stroke-width="2" x1="403" x2="403" y1="83" y2="117"></line>
  <line stroke="green" stroke-width="2" x1="437" x2="403" y1="83" y2="83"></line>
  <line stroke="green" stroke-width="2" x1="437" x2="437" y1="157" y2="123"></line>
  <line stroke="green" stroke-width="2" x1="403" x2="403" y1="123" y2="157"></line>
  <line stroke="green" stroke-width="2" x1="437" x2="437" y1="197" y2="163"></line>
  <line stroke="green" stroke-width="2" x1="403" x2="403" y1="163" y2="197"></line>
  <line stroke="green" stroke-width="2" x1="403" x2="403" y1="203" y2="237"></line>
  <line stroke="green" stroke-width="2" x1="477" x2="443" y1="203" y2="203"></line>
  <line stroke="green" stroke-width="2" x1="483" x2="517" y1="237" y2="237"></line>
  <line stroke="green" stroke-width="2" x1="517" x2="483" y1="203" y2="203"></line>
  <line stroke="green" stroke-width="2" x1="557" x2="557" y1="237" y2="203"></line>
  <line stroke="green" stroke-width="2" x1="523" x2="557" y1="237" y2="237"></line>
  <line stroke="green" stroke-width="2" x1="557" x2="523" y1="203" y2="203"></line>
  <line stroke="green" stroke-width="2" x1="403" x2="403" y1="243" y2="277"></line>
  <line stroke="green" stroke-width="2" x1="477" x2="477" y1="277" y2="243"></line>
  <line stroke="green" stroke-width="2" x1="363" x2="397" y1="317" y2="317"></line>
  <line stroke="green" stroke-width="2" x1="363" x2="363" y1="283" y2="317"></line>
  <line stroke="green" stroke-width="2" x1="397" x2="363" y1="283" y2="283"></line>
  <line stroke="green" stroke-width="2" x1="517" x2="517" y1="317" y2="283"></line>
  <line stroke="green" stroke-width="2" x1="517" x2="483" y1="283" y2="283"></line>
  <line stroke="green" stroke-width="2" x1="403" x2="403" y1="323" y2="357"></line>
  <line stroke="green" stroke-width="2" x1="443" x2="477" y1="357" y2="357"></line>
  <line stroke="green" stroke-width="2" x1="517" x2="517" y1="357" y2="323"></line>
  <line stroke="green" stroke-width="2" x1="437" x2="437" y1="397" y2="363"></line>
  <line stroke="green" stroke-width="2" x1="403" x2="437" y1="397" y2="397"></line>
  <line stroke="green" stroke-width="2" x1="403" x2="403" y1="363" y2="397"></line>
  <line stroke="green" stroke-width="2" x1="517" x2="517" y1="397" y2="363"></line>
  <line stroke="green" stroke-width="2" x1="483" x2="483" y1="363" y2="397"></line>
  <line stroke="green" stroke-width="2" x1="517" x2="517" y1="437" y2="403"></line>
  <line stroke="green" stroke-width="2" x1="483" x2="517" y1="437" y2="437"></line>
  <line stroke="green" stroke-width="2" x1="483" x2="483" y1="403" y2="437"></line>
  <line stroke="black" stroke-width="2" x1="0" x2="600" y1="0" y2="0"></line>
  <line stroke="black" stroke-width="2" x1="0" x2="0" y1="0" y2="600"></line>
  <line stroke="black" stroke-width="2" x1="0" x2="600" y1="40" y2="40"></line>
  <line stroke="black" stroke-width="2" x1="40" x2="40" y1="0" y2="600"></line>
  <line stroke="black" stroke-width="2" x1="0" x2="600" y1="80" y2="80"></line>
  <line stroke="black" stroke-width="2" x1="80" x2="80" y1="0" y2="600"></line>
  <line stroke="black" stroke-width="2" x1="0" x2="600" y1="120" y2="120"></line>
  <line stroke="black" stroke-width="2" x1="120" x2="120" y1="0" y2="600"></line>
  <line stroke="black" stroke-width="2" x1="0" x2="600" y1="160" y2="160"></line>
  <line stroke="black" stroke-width="2" x1="160" x2="160" y1="0" y2="600"></line>
  <line stroke="black" stroke-width="2" x1="0" x2="600" y1="200" y2="200"></line>
  <line stroke="black" stroke-width="2" x1="200" x2="200" y1="0" y2="600"></line>
  <line stroke="black" stroke-width="2" x1="0" x2="600" y1="240" y2="240"></line>
  <line stroke="black" stroke-width="2" x1="240" x2="240" y1="0" y2="600"></line>
  <line stroke="black" stroke-width="2" x1="0" x2="600" y1="280" y2="280"></line>
  <line stroke="black" stroke-width="2" x1="280" x2="280" y1="0" y2="600"></line>
  <line stroke="black" stroke-width="2" x1="0" x2="600" y1="320" y2="320"></line>
  <line stroke="black" stroke-width="2" x1="320" x2="320" y1="0" y2="600"></line>
  <line stroke="black" stroke-width="2" x1="0" x2="600" y1="360" y2="360"></line>
  <line stroke="black" stroke-width="2" x1="360" x2="360" y1="0" y2="600"></line>
  <line stroke="black" stroke-width="2" x1="0" x2="600" y1="400" y2="400"></line>
  <line stroke="black" stroke-width="2" x1="400" x2="400" y1="0" y2="600"></line>
  <line stroke="black" stroke-width="2" x1="0" x2="600" y1="440" y2="440"></line>
  <line stroke="black" stroke-width="2" x1="440" x2="440" y1="0" y2="600"></line>
  <line stroke="black" stroke-width="2" x1="0" x2="600" y1="480" y2="480"></line>
  <line stroke="black" stroke-width="2" x1="480" x2="480" y1="0" y2="600"></line>
  <line stroke="black" stroke-width="2" x1="0" x2="600" y1="520" y2="520"></line>
  <line stroke="black" stroke-width="2" x1="520" x2="520" y1="0" y2="600"></line>
  <line stroke="black" stroke-width="2" x1="0" x2="600" y1="560" y2="560"></line>
  <line stroke="black" stroke-width="2" x1="560" x2="560" y1="0" y2="600"></line>
  <line stroke="black" stroke-width="2" x1="0" x2="600" y1="600" y2="600"></line>
  <line stroke="black" stroke-width="2" x1="600" x2="600" y1="0" y2="600"></line>
  </svg></div>
    <br>
  
    <script src="./gif.js"></script>
    <script src="./jszip.min.js"></script>
    <script type="module">
      var lang = (new URL(document.location)).searchParams.get("lang");
      if (lang == null) {
        lang = "ja";
      }
      if (lang == "ja") {
        $(".lang-en").hide();
      } else {
        $(".lang-ja").hide();
      }
  
      function getGenOption() {
        var N = null;
        if (document.getElementById("fix_N").checked) {
          document.getElementById("N").disabled = false;
          N = document.getElementById("N").value;
        } else {
          document.getElementById("N").disabled = true;
        }
        var M = null;
        if (document.getElementById("fix_M").checked) {
          document.getElementById("M").disabled = false;
          M = document.getElementById("M").value;
        } else {
          document.getElementById("M").disabled = true;
        }
        var eps = null;
        if (document.getElementById("fix_eps").checked) {
          document.getElementById("eps").disabled = false;
          eps = document.getElementById("eps").value;
        } else {
          document.getElementById("eps").disabled = true;
        }
        return new GenOption(N, M, eps);
      }
  
      function getVisOption() {
        return new VisOption(document.getElementById("show_ans").checked);
      }
  
      import init, { gen, vis, get_max_turn, get_sample_output, GenOption, VisOption } from './awGA15Om.js';
  
      async function run() {
        await init();
        if ((new URL(document.location)).searchParams.get("seed") != null) {
          document.getElementById("seed").value = (new URL(document.location)).searchParams.get("seed");
        }
        const output = (new URL(document.location)).searchParams.get("output");
        if (output == "sample") {
          document.getElementById("output").value = get_sample_output();
        } else if (output != null) {
          document.getElementById("output").value = output;
        }
        const option = getGenOption();
        generate();
      }
      run();
  
      function generate() {
        const seed = document.getElementById("seed").value;
        const option = getGenOption();
        const input = gen(seed, option);
        document.getElementById("input").value = input;
        updateOutput();
      }
      window.generate = generate;
  
      function download() {
        const dl = document.getElementById("download");
        dl.disabled = true;
        var seed = document.getElementById("seed").value;
        const option = getGenOption();
        const cases = Number(document.getElementById("cases").value);
        const zip = new JSZip();
        for (var i = 0; i < cases; i++) {
          const input = gen(seed, option);
          zip.file(("" + i).padStart(4, '0') + ".txt", input);
          function inc(s) {
            if (s.length == 0) {
              return "1";
            } else if (s.slice(-1) == "9") {
              return inc(s.slice(0, -1)) + "0";
            } else {
              return s.slice(0, -1) + (Number(s.slice(-1)) + 1);
            }
          }
          seed = inc(seed);
        }
  
        zip.generateAsync({ type: "blob" }, e => {
          dl.value = String(Math.round(e.percent)).padStart(3, " ") + "% finished";
        }).then(blob => {
          const a = document.createElement("a");
          a.href = URL.createObjectURL(blob);
          a.download = "in.zip";
          a.click();
          window.URL.revokeObjectURL(a.href);
          dl.value = "Download";
          dl.disabled = false;
        });
      }
      window.download = download;
  
      function visualize() {
        const input = document.getElementById("input").value;
        const output = document.getElementById("output").value;
        const t = document.getElementById("turn").value;
        const option = getVisOption();
        try {
          const ret = vis(input, output, t, option);
          document.getElementById("score").innerHTML = "Score = " + ret.score;
          if (ret.error != "") {
            document.getElementById("score").innerHTML += " <font color='red'>(" + ret.error + ")</font>";
          }
          document.getElementById("cost").innerHTML = "Cost = " + ret.cost;
          document.getElementById("result").innerHTML = ret.svg;
          document.getElementById("query").value = ret.query;
          document.getElementById("response").value = ret.response;
          document.getElementById("comment").value = ret.comment;
        } catch (error) {
          console.log(error);
          document.getElementById("result").innerHTML = "<p>Invalid</p>";
        }
      }
      window.visualize = visualize;
  
      function update_t(t) {
        const max_turn = Number(document.getElementById("turn").max);
        const new_turn = Math.min(Math.max(0, t), max_turn);
        document.getElementById("turn").value = new_turn;
        document.getElementById("t_bar").value = new_turn;
        visualize();
      }
      window.update_t = update_t;
  
      var prev = Date.now();
      const play = document.getElementById("play");
      const speed = document.getElementById("speed");
  
      function start_autoplay() {
        if (Number(document.getElementById("turn").value) >= Number(document.getElementById("turn").max)) {
          document.getElementById("turn").value = 0;
        }
        prev = Date.now();
        play.value = "■";
        update_t(document.getElementById("turn").value);
      }
      window.start_autoplay = start_autoplay;
  
      function updateOutput() {
        play.value = "▶";
        const input = document.getElementById("input").value;
        const output = document.getElementById("output").value;
        try {
          const t = get_max_turn(input, output);
          document.getElementById("turn").max = t;
          document.getElementById("t_bar").max = t;
          update_t(t);
        } catch (error) {
          document.getElementById("result").innerHTML = "<p>Invalid</p>";
        }
      }
      window.updateOutput = updateOutput;
  
      play.onclick = event => {
        if (play.value == "■") {
          play.value = "▶";
        } else {
          start_autoplay();
        }
      }
  
      function autoplay() {
        if (play.value == "■") {
          const now = Date.now();
          let s = 2000;
          if ((now - prev) * speed.value >= s) {
            const inc = Math.floor((now - prev) * speed.value / s);
            prev += Math.floor(inc * s / speed.value);
            update_t(Number(document.getElementById("turn").value) + inc);
            if (Number(document.getElementById("turn").value) >= Number(document.getElementById("turn").max)) {
              play.value = "▶";
            }
          }
        }
        requestAnimationFrame(autoplay);
      }
      autoplay();
  
      let selectedFiles = null;
  
      document.getElementById("dirSelect").onchange = event => {
        selectedFiles = Array.from(event.target.files);
        const select = document.getElementById("fileSelect");
        select.innerHTML = '';
        if (selectedFiles.length > 0) {
          selectedFiles.sort((a, b) => a.name.localeCompare(b.name));
          for (let i = 0; i < selectedFiles.length; i++) {
            const file = selectedFiles[i];
            const option = document.createElement('option');
            option.value = file.name;
            option.textContent = file.name;
            select.appendChild(option);
          }
          select.disabled = false;
          const event = new Event("change");
          select.dispatchEvent(event);
        } else {
          select.disabled = true;
        }
      }
  
      document.getElementById("dirSelect").onclick = event => {
        event.target.value = '';
      }
  
      document.getElementById("fileSelect").onchange = event => {
        const name = event.target.value;
        const file = selectedFiles.find(file => file.name === name);
        if (file) {
          const match = name.match(/(?:.*_)?(\d+)\..*/);
          if (match) {
            const seed = parseInt(match[1], 10);
            const reader = new FileReader();
            reader.onload = e => {
              document.getElementById("seed").value = seed;
              document.getElementById("output").value = e.target.result;
              generate();
              updateOutput();
            }
            reader.readAsText(file);
          } else {
            document.getElementById("input").value = "File name format is invalid.";
          }
        }
      }
  
      document.getElementById("save_png").onclick = event => {
        const input = document.getElementById("input").value;
        const output = document.getElementById("output").value;
        const t = document.getElementById("turn").value;
        const option = getVisOption();
        const svgData = vis(input, output, t, option).svg;
        const svg = new DOMParser().parseFromString(svgData, "image/svg+xml").getElementById("vis");
        const canvas = document.createElement("canvas");
        canvas.width = svg.width.baseVal.value;
        canvas.height = svg.height.baseVal.value;
        const ctx = canvas.getContext("2d");
        const image = new Image;
        image.onload = function () {
          ctx.drawImage(image, 0, 0);
          const a = document.createElement("a");
          a.href = canvas.toDataURL("image/png");
          a.download = "vis.png";
          a.click();
        }
        image.src = "data:image/svg+xml;charset=utf-8;base64," + btoa(unescape(encodeURIComponent(svgData)));
      }
  
      const save_gif = document.getElementById("save_gif");
      save_gif.onclick = event => {
        save_gif.disabled = true;
        save_gif.value = "Generating GIF...";
        const input = document.getElementById("input").value;
        const output = document.getElementById("output").value;
        const option = getVisOption();
        const max_turn = Number(document.getElementById("turn").max);
        const step = Math.max(1, Math.round(100 * speed.value / 2000));
        const delay = step * 2000 / speed.value;
        const gif = new GIF({
          workers: 2,
          quality: 10,
        });
        gif.on("progress", function (p) {
          save_gif.value = String(Math.round(50 + 50 * p)).padStart(3, " ") + "% finished";
        });
        function add_frame(t) {
          save_gif.value = String(Math.round(50.0 * t / max_turn)).padStart(3, " ") + "% finished";
          const svgData = vis(input, output, t, option).svg;
          const svg = new DOMParser().parseFromString(svgData, "image/svg+xml").getElementById("vis");
          const canvas = document.createElement("canvas");
          canvas.width = svg.width.baseVal.value;
          canvas.height = svg.height.baseVal.value;
          const ctx = canvas.getContext("2d");
          const image = new Image;
          image.onload = function () {
            ctx.drawImage(image, 0, 0);
            if (t == max_turn) {
              gif.addFrame(canvas, { delay: 3000 });
            } else {
              gif.addFrame(canvas, { delay: delay });
            }
            if (t < max_turn) {
              add_frame(Math.min(t + step, max_turn));
            } else {
              gif.on('finished', function (blob) {
                const a = document.createElement("a");
                a.href = URL.createObjectURL(blob);
                a.download = "vis.gif";
                a.click();
                window.URL.revokeObjectURL(a.href);
                save_gif.value = "Save as Animation GIF";
                save_gif.disabled = false;
              });
              gif.render();
            }
          }
          image.src = "data:image/svg+xml;charset=utf-8;base64," + btoa(unescape(encodeURIComponent(svgData)));
        }
        add_frame(0);
      }
  
    </script>
  
  
  </body></html>